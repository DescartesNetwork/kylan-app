(self.webpackChunkkylan_app=self.webpackChunkkylan_app||[]).push([[919],{30614:function(e,n,t){"use strict";t.r(n);var r=t(7276),s=t(81108),a=t(9402),i=t(5868),c=t(1413),u=t(73924),o=t(45263),d=(0,r.createContext)({}),l=function(e){var n=e.children,t=e.style,s=void 0===t?{}:t,a=(e.antd,(0,i.v9)((function(e){return e})).ui),l=(0,r.useMemo)((function(){return{ui:a}}),[a]),f=(0,c.Z)({getPopupContainer:function(){return document.getElementById("root")}},{});return(0,o.jsx)(d.Provider,{value:l,children:(0,o.jsx)("section",{style:(0,c.Z)({height:"100%",backgroundColor:"transparent"},s),children:(0,o.jsx)(u.ZP,(0,c.Z)((0,c.Z)({},f),{},{children:n}))})})},f=function(){return(0,r.useContext)(d)},p=(0,r.createContext)({}),x=function(e){var n=e.children,t=(0,i.v9)((function(e){return e})).wallet,s=(0,r.useMemo)((function(){return{wallet:t}}),[t]);return(0,o.jsx)(p.Provider,{value:s,children:n})},h=(0,r.createContext)({}),v=function(e){var n=e.children,t=(0,i.v9)((function(e){return e})).accounts,s=(0,r.useMemo)((function(){return{accounts:t}}),[t]);return(0,o.jsx)(h.Provider,{value:s,children:n})},m=function(){return(0,r.useContext)(h)},j=t(15861),w=t(87757),Z=t.n(w),b=t(95418),k=t(4942),y=t(73643),g="mints",C=(0,y.hg)("".concat(g,"/getMint"),function(){var e=(0,j.Z)(Z().mark((function e(n,t){var r,s,a,i,c,u,o,d;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.address,s=n.force,a=void 0!==s&&s,i=t.getState,b.account.isAddress(r)){e.next=4;break}throw new Error("Invalid mint address");case 4:if(a){e.next=8;break}if(c=i(),!(u=c.accounts[r])){e.next=8;break}return e.abrupt("return",(0,k.Z)({},r,u));case 8:return o=window.kylan.splt,e.next=11,o.getMintData(r);case 11:return d=e.sent,e.abrupt("return",(0,k.Z)({},r,d));case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),A=(0,y.hg)("".concat(g,"/upsetMint"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,r=n.data,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:if(r){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,k.Z)({},t,r));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),S=(0,y.hg)("".concat(g,"/deleteMint"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),T=(0,y.oM)({name:g,initialState:{},reducers:{},extraReducers:function(e){e.addCase(C.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(A.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(S.fulfilled,(function(e,n){delete e[n.payload.address]}))}}).reducer,I=t(29439),N=t(45987),E=t(43144),M=t(15671),P=t(11796),R=t(67845),z="sentre",q=window.localStorage,B=function(e){try{return e?JSON.parse(e):null}catch(n){return null}},D={set:function(e,n){var t=B(q.getItem(z));t&&"object"===typeof t||(t={}),t[e]=n,q.setItem(z,JSON.stringify(t))},get:function(e){var n=B(q.getItem(z));return n&&"object"===typeof n?n[e]:null},clear:function(e){D.set(e,null)}},O=D,F=function(){switch(O.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}}(),L={spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},U={sol:{devnet:(0,c.Z)((0,c.Z)({},L),{},{node:"https://api.devnet.solana.com",chainId:103,swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9",printerAddress:"FpsYwMmDKkQ4sjUF2Cpp3imzUo8MZGWVG93eSPmHCR7",stableTokenAddress:"Vp15BGrUdTKPNDW4rkFm4ksoPHDTcg16Q7p3fwR4SPZ"}),testnet:(0,c.Z)((0,c.Z)({},L),{},{node:"https://api.testnet.solana.com",chainId:102,swapAddress:"",taxmanAddress:"",printerAddress:"",stableTokenAddress:""}),mainnet:(0,c.Z)((0,c.Z)({},L),{},{node:"https://solana-api.projectserum.com",chainId:101,swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e",printerAddress:"EJuHBZ8G78wzuoaAxo3TxdZGnmEc9NxV8gvsNeANmPru",stableTokenAddress:"AT5CEW4zLMNwMEQPi9oSXSMAiHvX1bYXVpFi5JgwoMhx"})}[F],admin:{devnet:{adminAddresses:["BkLRcJucoTF9GnxQUa94fkqZdoL9LTWCoT5gF54zVsJk","8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"]},testnet:{adminAddresses:[""]},mainnet:{adminAddresses:["BkLRcJucoTF9GnxQUa94fkqZdoL9LTWCoT5gF54zVsJk","8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"]}}[F]},W=function(e){return{symbol:"SOL",name:"Solana",address:"11111111111111111111111111111111",decimals:9,chainId:e,extensions:{coingeckoId:"solana"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"}},Q=function(e){return{symbol:"SNTR",name:"Sentre",address:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",decimals:9,chainId:e,extensions:{coingeckoId:"sentre"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M/logo.png"}},K=[W(103),Q(103),{symbol:"wBTC",name:"Wrapped Bitcoin",address:"8jk4eJymMfNZV9mkRNxJEt2VJ3pRvdJvD5FE94GXGBPM",decimals:9,chainId:103,extensions:{coingeckoId:"bitcoin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/qfnqNqs3nCAHjnyCgLRDbBtq4p2MtHZxw8YjSyYhPoL/logo.png"},{symbol:"wETH",name:"Ethereum",address:"27hdcZv7RtuMp75vupThR3T4KLsL61t476eosMdoec4c",decimals:9,chainId:103,extensions:{coingeckoId:"ethereum"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/FeGn77dhg1KXRRFeSwwMiykZnZPw5JXW6naf2aQgZDQf/logo.png"},{symbol:"UNI",name:"Uniswap",address:"FVZFSXu3yn17YdcxLD72TFDUqkdE5xZvcW18EUpRQEbe",decimals:9,chainId:103,extensions:{coingeckoId:"uniswap"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/3MVa4e32PaKmPxYUQ6n8vFkWtCma68Ld7e7fTktWDueQ/logo.png"},{symbol:"USDC",name:"USD Coin",address:"2z6Ci38Cx6PyL3tFrT95vbEeB3izqpoLdxxBkJk2euyj",decimals:9,chainId:103,extensions:{coingeckoId:"usd-coin"},logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"}],V=["address"],G=U.sol.chainId,J=/[\W_]+/g,Y={tokenize:"full",context:!0,minlength:3},X={document:{id:"address",index:[(0,c.Z)({field:"symbol"},Y),(0,c.Z)({field:"name"},Y)]}},_=(0,E.Z)((function e(){var n=this;(0,M.Z)(this,e),this.tokenMap=void 0,this.engine=void 0,this.chainId=void 0,this.cluster=void 0,this.loading=void 0,this.queue=void 0,this._init=(0,j.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.tokenMap.size){e.next=2;break}return e.abrupt("return",[n.tokenMap,n.engine]);case 2:return e.abrupt("return",new Promise(function(){var e=(0,j.Z)(Z().mark((function e(t){var r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.loading){e.next=2;break}return e.abrupt("return",n.queue.push(t));case 2:return n.loading=!0,e.next=5,(new R.DK).resolve();case 5:return e.next=7,e.sent.filterByChainId(n.chainId).getList();case 7:for(r=e.sent,"devnet"===n.cluster&&(r=r.concat(K)),(r="testnet"===n.cluster?r.concat([Q(102),W(102)]):r.concat([W(101)])).forEach((function(e){return n.tokenMap.set(e.address,e)})),n.engine=new P.Document(X),n.tokenMap.forEach((function(e){var t=e.address,r=(0,N.Z)(e,V);return n.engine.add(t,r)})),t([n.tokenMap,n.engine]);n.queue.length;)n.queue.shift()([n.tokenMap,n.engine]);n.loading=!1;case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)}))),this.all=(0,j.Z)(Z().mark((function e(){var t,r,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._init();case 2:return t=e.sent,r=(0,I.Z)(t,1),s=r[0],e.abrupt("return",Array.from(s.values()));case 6:case"end":return e.stop()}}),e)}))),this.findByAddress=function(){var e=(0,j.Z)(Z().mark((function e(t){var r,s,a;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._init();case 2:return r=e.sent,s=(0,I.Z)(r,1),a=s[0],e.abrupt("return",a.get(t));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.find=function(){var e=(0,j.Z)(Z().mark((function e(t,r){var s,a,i,c,u;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._init();case 2:return s=e.sent,a=(0,I.Z)(s,2),i=a[0],c=a[1],u=[],t.split(J).forEach((function(e){return c.search(e,r).forEach((function(e){return e.result.forEach((function(e){if(u.findIndex((function(n){return n.address===e}))<0){var n=i.get(e);n&&u.push(n)}}))}))})),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.tokenMap=new Map,this.engine=void 0,this.chainId=G,this.cluster=F,this.loading=!1,this.queue=[],this._init()})),H=new _,$=(0,r.createContext)({}),ee=function(e){var n=e.children,t=(0,i.I0)(),s=(0,i.v9)((function(e){return e})).mints,a=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var n=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(C.apply(void 0,n)).unwrap();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[t]),c=(0,r.useCallback)(function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.account.isAddress(n)){e.next=2;break}throw new Error("Invalid mint address");case 2:return e.next=4,H.findByAddress(n);case 4:if(null===(r=e.sent)||void 0===r||!r.decimals){e.next=7;break}return e.abrupt("return",r.decimals);case 7:return e.next=9,a({address:n});case 9:if(s=e.sent,null===(t=s[n])||void 0===t||!t.decimals){e.next=12;break}return e.abrupt("return",s[n].decimals);case 12:throw new Error("Cannot find mint decimals");case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[a]),u=(0,r.useMemo)((function(){return{mints:s,getMint:a,getDecimals:c,tokenProvider:H}}),[s,a,c]);return(0,o.jsx)($.Provider,{value:u,children:n})},ne=function(){return(0,r.useContext)($)},te=t(14972),re=t(2521),se=t(3895),ae=t(60285),ie=t(38595),ce=t(73169),ue=t(91026),oe=t(33800),de=t(86668),le=t(87408),fe=["suffix","prefix","children","loading","block","disabled","style"],pe=function(e){var n=e.suffix,t=e.prefix,s=e.children,a=e.loading,i=e.block,u=e.disabled,d=e.style,l=(0,N.Z)(e,fe),f=(0,r.useMemo)((function(){return a?(0,o.jsx)(le.Z,{}):n}),[a,n]),p=i?"calc(100% - 4px)":"auto",x=a||u,h=x?"no-drop":"pointer";return(0,o.jsx)("button",(0,c.Z)((0,c.Z)({className:"pixel-btn",style:(0,c.Z)((0,c.Z)({},d),{},{width:p,cursor:h}),disabled:x},l),{},{children:(0,o.jsxs)(de.Z,{children:[f&&(0,o.jsx)("span",{children:f}),(0,o.jsx)("span",{children:s}),t&&(0,o.jsx)("span",{children:t})]})}))};var xe,he={"logo-telegram":t.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"},ve=["name","className"],me=(0,r.forwardRef)((function(e,n){var t=e.name,r=e.className,s=(0,N.Z)(e,ve),a=r?"anticon "+r:"anticon";return(0,o.jsx)("span",(0,c.Z)((0,c.Z)({className:a},s),{},{children:he[t]?(0,o.jsx)("ion-icon",{ref:n,src:he[t]}):(0,o.jsx)("ion-icon",{ref:n,name:t})}))})),je=function(e){var n=e.style,t=void 0===n?{}:n,r=(0,te.o)().connect;return(0,o.jsx)(pe,{style:t,suffix:(0,o.jsx)(me,{name:"wallet-outline"}),onClick:r,children:"Connect Wallet"})},we=t(90162),Ze=t(37766),be=t(70321),ke=t(26822),ye=t(71677);!function(e){e.mainnet="mainnet-beta",e.devnet="devnet"}(xe||(xe={}));var ge=function(){var e=(0,te.X)().setNetwork,n="mainnet"===F?"devnet":"mainnet",t=(0,r.useCallback)((0,j.Z)(Z().mark((function t(){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(xe[n]);case 2:r=n,O.set("network",r),window.location.reload();case 3:case"end":return t.stop()}var r}),t)}))),[n,e]);return(0,o.jsxs)(de.Z,{size:15,style:{cursor:"pointer"},onClick:t,children:[(0,o.jsx)(me,{className:"action-center-icon ",name:"earth-outline"}),(0,o.jsxs)(be.Z.Text,{children:["Switch to ",n]})]})},Ce=function(){var e=(0,te.X)().walletProviderInfo;return(0,o.jsx)(Ze.C,{size:24,shape:"circle",className:"avt-img",src:null===e||void 0===e?void 0:e.icon()})},Ae=t(90809),Se=t.n(Ae),Te=t(50794),Ie=U.sol,Ne=Ie.node,Ee=Ie.spltAddress,Me=Ie.splataAddress,Pe=Ie.swapAddress,Re={signTransaction:function(){var e=(0,j.Z)(Z().mark((function e(n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Wallet is not connected");case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),signAllTransactions:function(){var e=(0,j.Z)(Z().mark((function e(n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Wallet is not connected");case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),publicKey:Te.rV.SystemProgram.programId};window.kylan={kylan:new(Se())(Re),lamports:new b.Lamports(Ne),splt:new b.SPLT(Ee,Me,Ne),swap:new b.Swap(Pe,Ee,Me,Ne)};var ze=function(){var e=(0,j.Z)(Z().mark((function e(n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.kylan=(0,c.Z)((0,c.Z)({},window.kylan),{},{kylan:new(Se())(n||Re)});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),qe=function(){var e=(0,j.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be="wallet",De={address:"",lamports:BigInt(0)},Oe=(0,y.hg)("".concat(Be,"/initializeWallet"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.wallet){e.next=3;break}throw new Error("Invalid wallet instance");case 3:return e.next=5,ze(t);case 5:return r=t.publicKey.toBase58(),e.next=8,window.kylan.lamports.getLamports(r);case 8:return s=e.sent,e.abrupt("return",{address:r,lamports:BigInt(s),visible:!1});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Fe=(0,y.hg)("".concat(Be,"/updateWallet"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.lamports,e.abrupt("return",{lamports:t});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Le=(0,y.hg)("".concat(Be,"/disconnectWallet"),(0,j.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))),Ue=(0,y.oM)({name:Be,initialState:De,reducers:{},extraReducers:function(e){e.addCase(Oe.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Fe.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Le.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)}))}}).reducer,We=t(16200),Qe=t.n(We),Ke={ttl:3e4},Ve={limit:{calls:10,time:1e3},cache:Ke},Ge=function(){function e(n){(0,M.Z)(this,e),this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=n}return(0,E.Z)(e,[{key:"add",value:function(e,n){this.resolveQueue.push(e),this.rejectQueue.push(n)}},{key:"resolves",value:function(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}},{key:"rejects",value:function(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}]),e}(),Je=function(){function e(){(0,M.Z)(this,e)}return(0,E.Z)(e,null,[{key:"set",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ke;this.mapCache.set(e,n),setTimeout((function(){t.mapCache.delete(e)}),r.ttl)}},{key:"get",value:function(e){return this.mapCache.get(e)}}]),e}();Je.mapCache=new Map;var Ye=function(){function e(){(0,M.Z)(this,e)}return(0,E.Z)(e,null,[{key:"getSingleFlight",value:function(e){var n=JSON.stringify(e);if(this.mapInstance.has(n)){var t=this.mapInstance.get(n);if(t)return t}var r=new Xe(e);return this.mapInstance.set(n,r),r}},{key:"load",value:function(){var n=(0,j.Z)(Z().mark((function n(t,r){var s,a,i,c=arguments;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=c.length>2&&void 0!==c[2]?c[2]:{},"object"===typeof t&&(t=JSON.stringify(t)),a=e.getSingleFlight(s),e.mapInstance.set(t,a),i=new Ge(t),n.abrupt("return",a.load(i,r));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}]),e}();Ye.mapInstance=new Map;var Xe=function(){function e(n){(0,M.Z)(this,e),this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(Ve,n)}return(0,E.Z)(e,[{key:"load",value:function(){var e=(0,j.Z)(Z().mark((function e(n,t){var r,s,a,i=this;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Je.get(n.key))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return s=!1,(a=this.mapRequestCalling.get(n.key))||(a=n,s=!0,this.mapRequestCalling.set(a.key,a)),e.abrupt("return",new Promise((function(e,n){if(!a)return n("Not found request!");a.add(e,n),s&&i.fetch(a,t)})));case 7:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"fetch",value:function(e,n){var t=this;if(!this.validateLimit())return this.addRequestQueue(e,n);this.createTimeLogs(),n().then((function(n){Je.set(e.key,n,t.config.cache),e.resolves(n)})).catch((function(n){e.rejects(n)})).finally((function(){t.mapRequestCalling.delete(e.key),t.fetchRequestQueue(n)}))}},{key:"fetchRequestQueue",value:function(e){if(this.validateLimit()){var n=this.requestQueue.shift();n&&this.load(n,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}}},{key:"addRequestQueue",value:function(e,n){var t,r=this;this.requestQueue.push(e),this.intervalRequest=setInterval((function(){r.fetchRequestQueue(n)}),null===(t=this.config.limit)||void 0===t?void 0:t.time)}},{key:"validateLimit",value:function(){return!0}},{key:"createTimeLogs",value:function(){var e;if(this.config.limit){var n=(new Date).getTime();this.timeLogs.push(n),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}}]),e}(),_e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.substring(0,n)+t+e.substring(e.length-n,e.length)},He=function(e){return b.account.isAddress(e)?"https://explorer.solana.com/address/".concat(e,"?cluster=").concat(F):"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat(F)},$e=function(e){return e?Qe()(e):Qe()("0")},en=function(e,n){return Math.pow(10,n-12)*e.toNumber()},nn=function(e,n){return new Te.BN(Math.floor(e*Math.pow(10,12-n)))};var tn,rn=t.p+"static/media/logo-mobile.77ae0291ae57f0b4cb04e8ecc42d2873.svg";!function(e){e.Mint="mint",e.Payback="payback"}(tn||(tn={}));var sn={uninitialized:{uninitialized:{}},active:{active:{}},printOnly:{printOnly:{}},burnOnly:{burnOnly:{}},paused:{paused:{}}},an=U.sol.printerAddress,cn=function(){var e=(0,r.useState)(0),n=(0,I.Z)(e,2),t=n[0],s=n[1],a=(0,i.v9)((function(e){return e})),c=a.main.mintSelected,u=a.cheques,o=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var n,t,r,a,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.kylan.kylan,e.next=4,n.deriveChequeAddress(an,c);case 4:if(t=e.sent,r=u[t]||{},a=r.amount){e.next=8;break}return e.abrupt("return",s(0));case 8:i=a.toNumber()/Math.pow(10,6),s(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[u,c]);return(0,r.useEffect)((function(){o()}),[o]),t},un=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e})).wallet,t=n.lamports,s=n.address,a=(0,re.k6)(),c=(0,te.X)().disconnect,u=cn(),d=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c();case 2:return n.next=4,e(Le());case 4:case"end":return n.stop()}}),n)}))),[c,e]);return(0,o.jsxs)(de.Z,{className:"wallet-center",children:[(0,o.jsx)(we.Z,{title:u,children:(0,o.jsxs)(de.Z,{className:"kylan-balance",size:12,children:[(0,o.jsx)(Ze.C,{size:24,src:rn}),(0,o.jsx)(be.Z.Text,{children:$e(u).format("0,0.[000]a")})]})}),(0,o.jsx)(ke.Z,{trigger:"click",placement:"bottomRight",content:(0,o.jsxs)(ce.Z,{gutter:[16,16],style:{maxWidth:194},children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ge,{})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(de.Z,{size:15,style:{cursor:"pointer"},onClick:(0,j.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(),a.push("/home");case 2:case"end":return e.stop()}}),e)}))),children:[(0,o.jsx)(me,{className:"action-center-icon ",name:"power-outline"}),(0,o.jsx)(be.Z.Text,{children:"Disconnect"})]})})]}),children:(0,o.jsx)(ye.Z,{className:"wallet-balance",children:(0,o.jsx)(we.Z,{title:b.utils.undecimalize(t,9),children:(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(Ce,{}),(0,o.jsxs)("span",{children:["\u25ce ",$e(b.utils.undecimalize(t,9)).format("0,0.[00]a")]}),_e(s,3,"...")]})})})})]})};var on=t.p+"static/media/icon-tele.27a415accd8984de2107c69c46b151ac.svg";var dn=t.p+"static/media/icon-tw.90c5a55e07d2f6cefd35b795a54bb823.svg";var ln=[{icon:t.p+"static/media/icon-medium.2aef2360b0b318af8378a56653b2804d.svg",url:"https://sentre.medium.com"},{icon:on,url:"https://t.me/Sentre"},{icon:dn,url:"https://twitter.com/SentreProtocol"}],fn=function(e){var n=e.vertical,t=void 0!==n&&n?"vertical":"horizontal";return(0,o.jsx)(de.Z,{direction:t,children:ln.map((function(e,n){return(0,o.jsx)(ye.Z,{type:"text",shape:"circle",icon:(0,o.jsx)(oe.Z,{src:e.icon,preview:!1}),onClick:function(){return window.open(e.url,"_blank")}},n)}))})},pn=function(){return"xs"===f().ui.infix?(0,o.jsx)(ke.Z,{content:(0,o.jsx)(fn,{vertical:!0}),children:(0,o.jsx)(ye.Z,{type:"text",shape:"circle",icon:(0,o.jsx)(me,{name:"share-social-outline"})})}):(0,o.jsx)(fn,{})};var xn,hn,vn=t.p+"static/media/logo.5a5a3f940680acf70e9c6bbe4a4cd96e.svg",mn=function(){var e=(0,re.k6)(),n=(0,i.v9)((function(e){return e})).wallet.address,t="xs"!==f().ui.infix?vn:rn;return(0,o.jsxs)(ce.Z,{gutter:16,style:{maxWidth:1200,margin:"auto"},children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsx)(oe.Z,{src:t,style:{cursor:"pointer"},onClick:function(){return e.push("/home")},preview:!1})}),(0,o.jsx)(ue.Z,{children:(0,o.jsxs)(ce.Z,{gutter:[24,24],justify:"end",children:[(0,o.jsx)(ue.Z,{children:(0,o.jsx)(pn,{})}),(0,o.jsx)(ue.Z,{children:b.account.isAddress(n)?(0,o.jsx)(un,{}):(0,o.jsx)(je,{})})]})})]})},jn=t(40351),wn=function(){return(0,o.jsxs)(ce.Z,{gutter:[24,24],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Title,{level:3,children:"How it work?"})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ce.Z,{gutter:[12,12],children:[1,2,3].map((function(e,n){return(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(jn.Z,{className:"mint-hiw",children:(0,o.jsx)(jn.Z.Panel,{header:"Mint ".concat(e),children:(0,o.jsx)(be.Z.Text,{children:"Get KYLAN 1:1 with USD on homepage directly."})},e+n)})},n+e)}))})})]})},Zn=function(e){var n=e.bodyStyle,t=e.children;return(0,o.jsxs)("div",{className:"pixel-card",children:[(0,o.jsx)("div",{className:"pixel-card-border"}),(0,o.jsx)("div",{className:"pixel-card-content",style:n,children:t})]})},bn=t(87742),kn=function(e){var n=(0,r.useState)(void 0),t=(0,I.Z)(n,2),s=t[0],a=t[1],i=ne().getDecimals,c=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){var t;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i(e);case 3:return t=n.sent,n.abrupt("return",a(t));case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",a(void 0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),[e,i]);return(0,r.useEffect)((function(){c()}),[c]),s},yn=(0,y.hg)("".concat("bid","/setBidAmount"),function(){var e=(0,j.Z)(Z().mark((function e(n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{bidAmount:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),gn=(0,y.oM)({name:"bid",initialState:{bidAmount:""},reducers:{},extraReducers:function(e){e.addCase(yn.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)}))}}).reducer,Cn=function(){var e=(0,i.v9)((function(e){return e})).main.mintSelected,n=m().accounts,t=kn(e)||0,s=(Object.values(n).find((function(n){return n.mint===e}))||{}).amount;return(0,r.useMemo)((function(){return s?Number(b.utils.undecimalize(s,t)):0}),[s,t])},An=U.sol.printerAddress,Sn=function(){var e=(0,i.I0)(),n=(0,r.useState)(!1),t=(0,I.Z)(n,2),s=t[0],a=t[1],c=(0,i.v9)((function(e){return e})),u=c.main,d=u.printerType,l=u.mintSelected,f=c.bid.bidAmount,p=kn(l)||0,x=Cn(),h=cn(),v=d===tn.Payback,m=v?h:x,w=!b.account.isAddress(l)||!Number(f)||!m,k=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){var t,r,s,i;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b.account.isAddress(l)&&Number(f)){n.next=2;break}return n.abrupt("return");case 2:return a(!0),t=new Te.BN(Number(f)*Math.pow(10,p)),n.prev=4,r=window.kylan.kylan,n.next=8,r.print(t,l,An);case 8:s=n.sent,i=s.txId,window.notify({type:"success",description:"Print KUSD tokens successfully. Click to view details.",onClick:function(){return window.open(He(i),"_blank")}}),e(yn("")),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),window.notify({type:"error",description:n.t0.message});case 17:return n.prev=17,a(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])}))),[f,e,l,p]),y=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){var t,r,s,i;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b.account.isAddress(l)&&Number(f)){n.next=2;break}return n.abrupt("return");case 2:return a(!0),t=new Te.BN(Number(f)*Math.pow(10,6)),n.prev=4,r=window.kylan.kylan,n.next=8,r.burn(t,l,An);case 8:s=n.sent,i=s.txId,window.notify({type:"success",description:"Print KUSD tokens successfully. Click to view details.",onClick:function(){return window.open(He(i),"_blank")}}),e(yn("")),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),window.notify({type:"error",description:n.t0.message});case 17:return n.prev=17,a(!1),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])}))),[f,e,l]);return v?(0,o.jsx)(pe,{onClick:y,suffix:(0,o.jsx)(me,{name:"wallet-outline"}),loading:s,disabled:w,block:!0,children:"Burn"}):(0,o.jsx)(pe,{onClick:k,suffix:(0,o.jsx)(me,{name:"wallet-outline"}),loading:s,disabled:w,block:!0,children:"Mint"})},Tn="cheque",In=(0,y.hg)("".concat(Tn,"/getCheques"),(0,j.Z)(Z().mark((function e(){var n,t,r,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.kylan.kylan,t=n.program,e.next=4,t.provider.connection.getProgramAccounts(t.programId,{filters:[{dataSize:t.account.cheque.size},{memcmp:{bytes:n.program.provider.wallet.publicKey.toBase58(),offset:80}}]});case 4:return r=e.sent,s={},r.forEach((function(e){var t=e.pubkey,r=e.account.data,a=t.toBase58(),i=n.parseChequeData(r);s[a]=i})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))),Nn=(0,y.hg)("".concat(Tn,"/getCheque"),function(){var e=(0,j.Z)(Z().mark((function e(n,t){var r,s,a,i,c,u;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.address,s=t.getState,a=window.kylan.kylan,b.account.isAddress(r)){e.next=5;break}throw new Error("Invalid account address");case 5:if(i=s(),!(c=i.cheques[r])){e.next=8;break}return e.abrupt("return",(0,k.Z)({},r,c));case 8:return e.next=10,a.getChequeData(r);case 10:return u=e.sent,e.abrupt("return",(0,k.Z)({},r,u));case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),En=(0,y.hg)("".concat(Tn,"/upsetCheque"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,r=n.data,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:if(r){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,k.Z)({},t,r));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Mn=(0,y.hg)("".concat(Tn,"/deleteCheque"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Pn=(0,y.oM)({name:Tn,initialState:{},reducers:{},extraReducers:function(e){e.addCase(In.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Nn.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(En.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Mn.fulfilled,(function(e,n){delete e[n.payload.address]}))}}).reducer,Rn=U.sol.printerAddress,zn=function(){var e=(0,i.I0)(),n=(0,r.useState)(!1),t=(0,I.Z)(n,2),s=t[0],a=t[1],c=(0,r.useState)(!1),u=(0,I.Z)(c,2),d=u[0],l=u[1],f=(0,i.v9)((function(e){return e})),p=f.main.mintSelected,x=f.cheques,h=!b.account.isAddress(p),v=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){var t,r,s,i;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b.account.isAddress(p)){n.next=2;break}return n.abrupt("return");case 2:return t=window.kylan.kylan,a(!0),n.prev=4,n.next=7,t.initializeCheque(Rn,p);case 7:return r=n.sent,s=r.txId,i=r.chequeAddress,n.next=12,e(Nn({address:i}));case 12:return n.abrupt("return",window.notify({type:"success",description:"Successfully approve the token",onClick:function(){return window.open(He(s),"_blank")}}));case 15:return n.prev=15,n.t0=n.catch(4),n.abrupt("return",window.notify({type:"error",description:n.t0.message}));case 18:return n.prev=18,n.abrupt("return",a(!1));case 21:case"end":return n.stop()}}),n,null,[[4,15,18,21]])}))),[e,p]),m=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var n,t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.kylan.kylan,e.prev=1,e.next=4,n.deriveChequeAddress(Rn,p);case 4:t=e.sent,l(!!x[t]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[p,x]);return(0,r.useEffect)((function(){m()}),[m]),d?(0,o.jsx)(Sn,{}):(0,o.jsx)(pe,{onClick:v,suffix:(0,o.jsx)(me,{name:"wallet-outline"}),loading:s,disabled:h,block:!0,children:"Approve"})},qn=function(){var e=(0,te.o)().connect;return(0,o.jsx)(pe,{onClick:e,suffix:(0,o.jsx)(me,{name:"wallet-outline"}),block:!0,children:"Connect wallet"})},Bn=function(){var e=(0,i.v9)((function(e){return e})).wallet.address;return b.account.isAddress(e)?(0,o.jsx)(zn,{}):(0,o.jsx)(qn,{})},Dn=t(37426),On=["max","onValue","onChange"],Fn=(0,r.forwardRef)((function(e,n){var t,s=e.max,a=e.onValue,i=void 0===a?function(){}:a,u=e.onChange,d=void 0===u?function(){}:u,l=(0,N.Z)(e,On),f=(0,r.useState)(""),p=(0,I.Z)(f,2),x=p[0],h=p[1],v=(0,r.useState)(null),m=(0,I.Z)(v,2),j=m[0],w=m[1],Z=(0,r.useRef)(n),b=(0,r.useCallback)((function(e){var n=function(e){xn&&(clearTimeout(xn),xn=void 0),h(e),xn=setTimeout((function(){return h("")}),500)};return/^\d*(\.\d*)?$/.test(e)?s&&parseFloat(e)>parseFloat(s.toString())?n("Not enough balance"):i(e):n("Invalid character")}),[s,i]);return null!==j&&(null===Z||void 0===Z||null===(t=Z.current)||void 0===t||t.setSelectionRange(j,j)),(0,o.jsx)(we.Z,{title:(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(me,{name:"warning"}),x]}),visible:!!x,children:(0,o.jsx)(Dn.Z,(0,c.Z)((0,c.Z)({},l),{},{onChange:function(e){d(e),w(e.target.selectionStart),b(e.target.value||"")},ref:Z}))})})),Ln=["mintAddress","size","icon"],Un=function(e){var n=e.mintAddress,t=e.size,s=void 0===t?24:t,a=e.icon,i=void 0===a?(0,o.jsx)(me,{name:"diamond-outline"}):a,u=(0,N.Z)(e,Ln),d=(0,r.useState)(""),l=(0,I.Z)(d,2),f=l[0],p=l[1],x=ne().tokenProvider,h=(0,r.useCallback)(function(){var e=(0,j.Z)(Z().mark((function e(n){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.findByAddress(n);case 2:if(null===(t=e.sent)||void 0===t||!t.logoURI){e.next=5;break}return e.abrupt("return",t.logoURI);case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[x]),v=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.account.isAddress(n)){e.next=2;break}return e.abrupt("return",p(""));case 2:return e.next=4,h(n);case 4:return t=e.sent,e.abrupt("return",p(t));case 6:case"end":return e.stop()}}),e)}))),[n,h]);return(0,r.useEffect)((function(){v()}),[v]),(0,o.jsx)(Ze.C,(0,c.Z)((0,c.Z)({src:f,size:s,style:{backgroundColor:"#2D3355",border:"none"}},u),{},{children:i}))},Wn="TOKN",Qn=function(e){var n=e.mintAddress,t=(0,r.useState)(Wn),s=(0,I.Z)(t,2),a=s[0],i=s[1],c=ne().tokenProvider,u=(0,r.useCallback)(function(){var e=(0,j.Z)(Z().mark((function e(n){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.findByAddress(n);case 2:if(null===(t=e.sent)||void 0===t||!t.symbol){e.next=5;break}return e.abrupt("return",t.symbol);case 5:return e.abrupt("return",n.substring(0,4));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[c]),d=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.account.isAddress(n)){e.next=2;break}return e.abrupt("return",i(Wn));case 2:return e.next=4,u(n);case 4:return t=e.sent,e.abrupt("return",i(t));case 6:case"end":return e.stop()}}),e)}))),[n,u]);return(0,r.useEffect)((function(){d()}),[d]),(0,o.jsx)("span",{children:a})};!function(e){e.large="large",e.medium="medium",e.small="small",e.xsmall="xsmall"}(hn||(hn={}));var Kn=function(){var e=(0,r.useState)(hn.large),n=(0,I.Z)(e,2),t=n[0],s=n[1],a=(0,i.I0)(),c=(0,i.v9)((function(e){return e})),u=c.bid.bidAmount,d=c.main,l=d.printerType,f=d.mintSelected,p=cn(),x=Cn(),h=l===tn.Payback,v=h?p:x,m=h?"KUSD":(0,o.jsx)(Qn,{mintAddress:f}),j=(0,r.useCallback)((function(){return u?u.length<5?s(hn.large):u.length<7?s(hn.medium):u.length<9?s(hn.small):s(hn.xsmall):s(hn.large)}),[u]);return(0,r.useEffect)((function(){j()}),[j]),(0,o.jsx)(ie.Z,{bordered:!1,style:{background:"#E0E1EE"},bodyStyle:{padding:"12px 16px"},children:(0,o.jsxs)(ce.Z,{children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{gutter:0,children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsx)(be.Z.Text,{type:"secondary",children:"Amount"})}),(0,o.jsx)(ue.Z,{children:(0,o.jsx)(we.Z,{title:v,children:(0,o.jsxs)(de.Z,{size:4,children:[(0,o.jsx)(be.Z.Text,{type:"secondary",children:"Available:"}),(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(be.Z.Text,{children:$e(v).format("0,0.[000]a")}),(0,o.jsx)(be.Z.Text,{type:"secondary",className:"caption",children:m})]})]})})})]})}),(0,o.jsxs)(ue.Z,{span:24,children:[(0,o.jsx)(Fn,{className:"special-font special-font-".concat(t),placeholder:"0",bordered:!1,onValue:function(e){return a(yn(e))},value:u,suffix:(0,o.jsx)(ye.Z,{onClick:function(){return a(yn("".concat(v)))},children:(0,o.jsx)(be.Z.Title,{level:5,children:"Max"})})}),(0,o.jsx)(ue.Z,{style:{height:22}})," "]})]})})},Vn=t(93264),Gn="main",Jn={printerType:tn.Mint,mintSelected:""},Yn=(0,y.hg)("".concat(Gn,"/setPrinterType"),function(){var e=(0,j.Z)(Z().mark((function e(n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{printerType:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Xn=(0,y.hg)("".concat(Gn,"/onSelectedMint"),function(){var e=(0,j.Z)(Z().mark((function e(n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{mintSelected:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),_n=(0,y.oM)({name:Gn,initialState:Jn,reducers:{},extraReducers:function(e){e.addCase(Yn.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Xn.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)}))}}).reducer,Hn=function(e){var n=e.onClick,t=void 0===n?function(){}:n,r=(0,i.v9)((function(e){return e})).main.mintSelected;return(0,o.jsxs)(de.Z,{style:{cursor:"pointer"},align:"center",onClick:t,children:[(0,o.jsx)(Un,{mintAddress:r}),(0,o.jsx)(Qn,{mintAddress:r})]})},$n=function(){var e=(0,i.I0)(),n=(0,r.useState)(!1),t=(0,I.Z)(n,2),s=t[0],a=t[1],c=(0,i.v9)((function(e){return e})),u=c.main.mintSelected,d=c.certificates,l=Object.values(d).map((function(e){return e.secureToken.toBase58()}));return(0,o.jsxs)(ce.Z,{gutter:[16,16],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(Hn,{onClick:function(){return a(!0)}})}),(0,o.jsx)(Vn.Z,{visible:s,onCancel:function(){return a(!1)},centered:!0,footer:!1,bodyStyle:{padding:0},closeIcon:(0,o.jsx)(me,{name:"close-outline"}),className:"pixel-modal",children:(0,o.jsx)(Zn,{children:(0,o.jsxs)(ce.Z,{gutter:[28,28],style:{maxHeight:400,overflow:"auto"},children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Title,{level:5,children:"Select a token"})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ce.Z,{gutter:[24,24],children:null===l||void 0===l?void 0:l.map((function(n,t){return(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{style:{cursor:"pointer"},onClick:function(){e(Xn(n)),a(!1)},children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(Un,{mintAddress:n}),(0,o.jsx)(Qn,{mintAddress:n})]})}),n===u&&(0,o.jsx)(ue.Z,{children:(0,o.jsx)(me,{style:{color:"#00C02A"},name:"checkmark-outline"})})]})},t)}))})})]})})})]})};var et=t.p+"static/media/icon-arrow.752a208f36479490d91ecf3405b4d001.svg",nt=function(e){var n=e.floatRight,t=void 0!==n&&n,r=f().ui.infix,s=t&&"xs"!==r?"end":"start",a=t?"Receive":"Pay";return(0,o.jsx)(ie.Z,{bordered:!1,style:{textAlign:s,height:"100%"},children:(0,o.jsxs)(de.Z,{direction:"vertical",align:s,children:[(0,o.jsx)(be.Z.Text,{type:"secondary",children:a}),(0,o.jsx)($n,{})]})})},tt=function(e){var n=e.floatRight,t=void 0!==n&&n,r=f().ui.infix,s=t&&"xs"!==r?"end":"start",a=t?"Receive":"Pay";return(0,o.jsx)(ie.Z,{bordered:!1,style:{textAlign:s},children:(0,o.jsxs)(de.Z,{direction:"vertical",align:s,children:[(0,o.jsx)(be.Z.Text,{type:"secondary",children:a}),(0,o.jsxs)(de.Z,{style:{minHeight:30},align:"center",children:[(0,o.jsx)(Ze.C,{src:rn,size:24}),(0,o.jsx)(be.Z.Text,{children:"Kylan"})]})]})})},rt=function(e){var n=e.payback;return void 0!==n&&n?(0,o.jsxs)(ce.Z,{gutter:[4,4],children:[(0,o.jsx)(ue.Z,{xs:24,sm:12,children:(0,o.jsx)(tt,{})}),(0,o.jsx)(ue.Z,{span:0,className:"pay-icon",children:(0,o.jsx)(oe.Z,{src:et,preview:!1})}),(0,o.jsx)(ue.Z,{xs:24,sm:12,children:(0,o.jsx)(nt,{floatRight:!0})})]}):(0,o.jsxs)(ce.Z,{gutter:[4,4],children:[(0,o.jsx)(ue.Z,{xs:24,sm:12,children:(0,o.jsx)(nt,{})}),(0,o.jsx)(ue.Z,{span:0,className:"pay-icon",children:(0,o.jsx)(oe.Z,{src:et,preview:!1})}),(0,o.jsx)(ue.Z,{xs:24,sm:12,children:(0,o.jsx)(tt,{floatRight:!0})})]})},st=U.sol.printerAddress,at=function(e){var n=e.label,t=void 0===n?"":n,r=e.value,s=void 0===r?"":r;return(0,o.jsxs)(ce.Z,{gutter:[16,16],children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsx)(be.Z.Text,{type:"secondary",children:t})}),(0,o.jsx)(ue.Z,{children:(0,o.jsx)(be.Z.Text,{style:{fontSize:16},children:s})})]})},it=function(e){var n=e.rate,t=(0,r.useState)(!1),s=(0,I.Z)(t,2),a=s[0],c=s[1],u=(0,i.v9)((function(e){return e})).main.mintSelected,d=kn(u)||0,l=(0,r.useMemo)((function(){if(!n)return{kylan:0,secure:0};var e=1,t=en(n,d);return a&&(e=1/t,t=1),{kylan:e,secure:t}}),[a,n,d]),f=l.kylan,p=l.secure;return a?(0,o.jsxs)(de.Z,{style:{fontSize:16},children:[(0,o.jsx)(ye.Z,{type:"text",shape:"circle",icon:(0,o.jsx)(me,{name:"swap-horizontal-outline"}),onClick:function(){return c(!a)}}),(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(be.Z.Text,{children:$e(p).format("0,0.[0000]a")}),(0,o.jsx)(Qn,{mintAddress:u})]}),(0,o.jsx)(be.Z.Text,{children:"="}),(0,o.jsxs)(be.Z.Text,{children:[$e(f).format("0,0.[0000]a")," KUSD"]})]}):(0,o.jsxs)(de.Z,{style:{fontSize:16},children:[(0,o.jsx)(ye.Z,{type:"text",shape:"circle",icon:(0,o.jsx)(me,{name:"swap-horizontal-outline"}),onClick:function(){return c(!a)}}),(0,o.jsxs)(be.Z.Text,{children:[$e(f).format("0,0.[0000]a")," KUSD"]}),(0,o.jsx)(be.Z.Text,{children:"="}),(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(be.Z.Text,{children:$e(p).format("0,0.[0000]a")}),(0,o.jsx)(Qn,{mintAddress:u})]})]})},ct=function(){var e=(0,r.useState)(""),n=(0,I.Z)(e,2),t=n[0],s=n[1],a=(0,i.v9)((function(e){return e})),c=a.bid.bidAmount,u=a.main,d=u.printerType,l=u.mintSelected,f=a.certificates[t]||{},p=f.fee,x=f.rate,h=kn(l)||0,v=d===tn.Payback,m="".concat((null===p||void 0===p?void 0:p.toNumber())/Math.pow(10,6)||0,"%"),w=(0,r.useMemo)((function(){if(!x)return 0;var e=en(x,h);return v?Number(c)/e:Number(c)*e}),[c,v,x,h]),k=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var n,t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.account.isAddress(l)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n=window.kylan.kylan,e.next=6,n.deriveCertAddress(st,l);case 6:t=e.sent,s(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),window.notify({type:"error",description:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[l]);return(0,r.useEffect)((function(){k()}),[k]),(0,o.jsxs)(ce.Z,{gutter:[24,24],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(rt,{payback:v})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{gutter:[10,10],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(at,{label:"Exchange rate",value:(0,o.jsx)(it,{rate:x})})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(at,{label:"Convention fee",value:v?m:"0%"})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(at,{label:"Estimated received",value:(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(be.Z.Text,{children:$e(w).format("0,0.[0000]a")}),v?(0,o.jsx)(Qn,{mintAddress:l}):(0,o.jsx)(be.Z.Text,{children:"KUSD"})]})})})]})})]})},ut=function(){return(0,o.jsxs)(ce.Z,{gutter:[24,24],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(Kn,{})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ct,{})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(Bn,{})})]})},ot=function(){var e=(0,i.I0)();return(0,o.jsxs)(ce.Z,{gutter:[24,24],justify:"center",children:[(0,o.jsx)(ue.Z,{children:(0,o.jsxs)(bn.ZP.Group,{onChange:function(n){return e(Yn(n.target.value))},defaultValue:tn.Mint,className:"pay-button",children:[(0,o.jsx)(bn.ZP.Button,{style:{minWidth:90},value:tn.Mint,children:"Mint"}),(0,o.jsx)(bn.ZP.Button,{style:{minWidth:90},value:tn.Payback,children:"Payback"})]})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ut,{})})]})};var dt=t.p+"static/media/sentre.112adc86d9b397b9f7af42c44cabeaa0.svg";var lt=t.p+"static/media/coin98.c620212f5495d8f56c9b36bbe0ae735b.svg";var ft=t.p+"static/media/icon-handsack.2118f0c9696de1d010a2b6b98dfa522a.svg",pt=function(){return(0,o.jsxs)(ce.Z,{gutter:[16,16],children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsx)(be.Z.Text,{type:"secondary",children:"Support by"})}),(0,o.jsx)(ue.Z,{children:(0,o.jsxs)(de.Z,{size:8,children:[(0,o.jsx)(be.Z.Text,{children:"Sentre"}),(0,o.jsx)(Ze.C,{src:dt,size:24}),(0,o.jsx)(oe.Z,{src:ft,preview:!1}),(0,o.jsx)(Ze.C,{src:lt,size:24}),(0,o.jsx)(be.Z.Text,{children:"Coin 98"})]})})]})},xt=function(){return(0,o.jsxs)(ce.Z,{gutter:[16,16],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(Zn,{children:(0,o.jsx)(pt,{})})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(Zn,{bodyStyle:{padding:28},children:(0,o.jsx)(ot,{})})})]})},ht=U.admin.adminAddresses,vt=function(){var e=(0,re.k6)(),n=(0,i.v9)((function(e){return e})).wallet.address;return(0,r.useEffect)((function(){var t=e.location.search,r=new URLSearchParams(t),s=decodeURIComponent(r.get("redirect")||"/home");ht.includes(n)||(s=decodeURIComponent("/home")),b.account.isAddress(n)&&e.push(s)}),[n,e]),(0,o.jsx)(ce.Z,{gutter:16,justify:"center",children:(0,o.jsx)(ue.Z,{xs:24,md:16,lg:12,xl:8,children:(0,o.jsxs)(ce.Z,{gutter:[0,120],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(xt,{})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(wn,{})})]})})})},mt=t(11883),jt=function(){var e=window.innerWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":e<1400?"xl":"xxl"},wt="ui",Zt={theme:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",width:window.innerWidth,infix:jt(),touchable:"ontouchstart"in window||navigator.maxTouchPoints>0},bt=(0,y.hg)("".concat(wt,"/setTheme"),function(){var e=(0,j.Z)(Z().mark((function e(n){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{theme:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),kt=(0,y.hg)("".concat(wt,"/resize"),(0,j.Z)(Z().mark((function e(){var n,t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.innerWidth,t=jt(),e.abrupt("return",{width:n,infix:t});case 3:case"end":return e.stop()}}),e)})))),yt=(0,y.oM)({name:wt,initialState:Zt,reducers:{},extraReducers:function(e){e.addCase(bt.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(kt.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)}))}}).reducer,gt=function(){var e=mt.Z.useNotification(),n=(0,I.Z)(e,2),t=n[0],s=n[1],a=(0,i.I0)();return window.notify=function(e){var n=e.type,r=e.description,s=e.onClick,a=void 0===s?function(){}:s;return t[n]({message:n.toUpperCase(),description:r,onClick:a,style:{cursor:"pointer"},closeIcon:(0,o.jsx)(me,{name:"close-outline"})})},(0,r.useEffect)((function(){window.onresize=function(){return a(kt())}}),[a]),(0,o.jsx)(r.Fragment,{children:s})},Ct="accounts",At=(0,y.hg)("".concat(Ct,"/getAccounts"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r,s,a,i,c;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.owner,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid owner/wallet address");case 3:return r=window.kylan.splt,s=b.account.fromAddress(t),e.next=7,r.connection.getTokenAccountsByOwner(s,{programId:r.spltProgramId});case 7:return a=e.sent,i=a.value,c={},i.forEach((function(e){var n=e.pubkey,t=e.account.data,s=n.toBase58(),a=r.parseAccountData(t);return c[s]=a})),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),St=(0,y.hg)("".concat(Ct,"/getAccount"),function(){var e=(0,j.Z)(Z().mark((function e(n,t){var r,s,a,i,c,u;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.address,s=t.getState,b.account.isAddress(r)){e.next=4;break}throw new Error("Invalid account address");case 4:if(a=s(),!(i=a.accounts[r])){e.next=7;break}return e.abrupt("return",(0,k.Z)({},r,i));case 7:return c=window.kylan.splt,e.next=10,c.getAccountData(r);case 10:return u=e.sent,e.abrupt("return",(0,k.Z)({},r,u));case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Tt=(0,y.hg)("".concat(Ct,"/upsetAccount"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,r=n.data,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:if(r){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,k.Z)({},t,r));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),It=(0,y.hg)("".concat(Ct,"/deleteAccount"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Nt=(0,y.oM)({name:Ct,initialState:{},reducers:{},extraReducers:function(e){e.addCase(At.fulfilled,(function(e,n){return n.payload})).addCase(St.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Tt.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(It.fulfilled,(function(e,n){delete e[n.payload.address]}))}}).reducer,Et=0,Mt=void 0,Pt=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e})).wallet,t=n.address,s=n.lamports,a=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,b.account.isAddress(t)){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e(At({owner:t})).unwrap();case 5:n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",window.notify({type:"error",description:"Cannot fetch data of accounts"}));case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),[e,t]),c=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){var r,s;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b.account.isAddress(t)){n.next=2;break}return n.abrupt("return",console.warn("Wallet is not connected"));case 2:if(!Et){n.next=4;break}return n.abrupt("return",console.warn("Already watched"));case 4:r=window.kylan.splt,s=[{memcmp:{bytes:t,offset:32}}],Et=null===r||void 0===r?void 0:r.watch((function(n,t){if(n)return console.error(n);var r=t.address,s=t.data;return e(Tt({address:r,data:s}))}),s);case 7:case"end":return n.stop()}}),n)}))),[e,t]);return(0,r.useEffect)((function(){"undefined"!==typeof Mt&&s>Mt&&e(At({owner:t})),Mt=s}),[e,t,s]),(0,r.useEffect)((function(){return a(),c(),function(){(0,j.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.kylan.splt.unwatch(Et);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))(),Et=0}}),[a,c]),(0,o.jsx)(r.Fragment,{})},Rt=null,zt=function(){var e=(0,i.I0)(),n=(0,te.X)(),t=n.publicKey,s=n.wallet,a=(0,i.v9)((function(e){return e})).wallet.address,c=(0,r.useCallback)((0,j.Z)(Z().mark((function n(){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b.account.isAddress(a)){n.next=11;break}return n.prev=1,n.next=4,window.kylan.lamports.unwatch(Rt);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:Rt=null,n.next=14;break;case 11:if(!Rt){n.next=13;break}return n.abrupt("return",console.warn("Already watched"));case 13:Rt=window.kylan.lamports.watch(a,(function(n,t){return n?console.warn(n):e(Fe({lamports:BigInt(t||0)}))}));case 14:case"end":return n.stop()}}),n,null,[[1,6]])}))),[a,e]);return(0,r.useEffect)((function(){e(Oe({wallet:s}))}),[e,s,t]),(0,r.useEffect)((function(){c()}),[c]),null},qt=U.sol.printerAddress,Bt="certificate",Dt=(0,y.hg)("".concat(Bt,"/getCertificates"),(0,j.Z)(Z().mark((function e(){var n,t,r,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.kylan.kylan,t=n.program,e.next=4,t.provider.connection.getProgramAccounts(t.programId,{filters:[{dataSize:t.account.cert.size},{memcmp:{bytes:qt,offset:8}}]});case 4:return r=e.sent,s={},r.forEach((function(e){var t=e.pubkey,r=e.account.data,a=t.toBase58(),i=n.parseCertData(r);s[a]=i})),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))),Ot=(0,y.hg)("".concat(Bt,"/getCertificate"),function(){var e=(0,j.Z)(Z().mark((function e(n,t){var r,s,a,i,c,u;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.address,s=t.getState,a=window.kylan.kylan,b.account.isAddress(r)){e.next=5;break}throw new Error("Invalid account address");case 5:if(i=s(),!(c=i.certificates[r])){e.next=8;break}return e.abrupt("return",(0,k.Z)({},r,c));case 8:return e.next=10,a.getCertData(r);case 10:return u=e.sent,e.abrupt("return",(0,k.Z)({},r,u));case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ft=(0,y.hg)("".concat(Bt,"/upsetCertificate"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,r=n.data,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:if(r){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,k.Z)({},t,r));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Lt=(0,y.hg)("".concat(Bt,"/deleteAccount"),function(){var e=(0,j.Z)(Z().mark((function e(n){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.address,b.account.isAddress(t)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Ut=(0,y.oM)({name:Bt,initialState:{},reducers:{},extraReducers:function(e){e.addCase(Dt.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Ot.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Ft.fulfilled,(function(e,n){var t=n.payload;Object.assign(e,t)})).addCase(Lt.fulfilled,(function(e,n){delete e[n.payload.address]}))}}).reducer,Wt=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e})).wallet.address,t=(0,r.useCallback)((0,j.Z)(Z().mark((function t(){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,b.account.isAddress(n)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e(Dt());case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),window.notify({type:"error",description:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e,n]);return(0,r.useEffect)((function(){t()}),[t]),(0,o.jsx)(r.Fragment,{})},Qt=0,Kt=function(){var e=(0,i.I0)(),n=(0,i.v9)((function(e){return e})).wallet.address,t=(0,r.useCallback)((0,j.Z)(Z().mark((function t(){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,b.account.isAddress(n)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e(In());case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),window.notify({type:"error",description:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e,n]),s=(0,r.useCallback)((0,j.Z)(Z().mark((function t(){var r,s;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b.account.isAddress(n)){t.next=2;break}return t.abrupt("return",console.warn("Wallet is not connected"));case 2:if(!Qt){t.next=4;break}return t.abrupt("return",console.warn("Already watched"));case 4:r=window.kylan.kylan,s=[{memcmp:{bytes:n,offset:80}}],Qt=null===r||void 0===r?void 0:r.watch((function(n,t){if(n)return console.error(n);var r=t.address,s=t.data;return e(En({address:r,data:s}))}),s);case 7:case"end":return t.stop()}}),t)}))),[e,n]);return(0,r.useEffect)((function(){return t(),s(),function(){(0,j.Z)(Z().mark((function e(){var n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.kylan.kylan,e.prev=1,e.next=4,n.unwatch(Qt);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))(),Qt=0}}),[t,s]),(0,o.jsx)(r.Fragment,{})},Vt=function(){return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(gt,{}),(0,o.jsx)(Pt,{}),(0,o.jsx)(zt,{}),(0,o.jsx)(Wt,{}),(0,o.jsx)(Kt,{})]})},Gt=["component"],Jt=U.admin.adminAddresses,Yt=function(e){var n=e.component,t=(0,N.Z)(e,Gt),s=(0,te.X)().publicKey,a=(null===s||void 0===s?void 0:s.toBase58())||"",i=(0,r.useCallback)((function(e){var t=encodeURIComponent(window.location.href.replace(window.location.origin,""));return b.account.isAddress(a)&&Jt.includes(a)?(0,o.jsx)(n,(0,c.Z)({},e)):(0,o.jsx)(re.l_,{to:"/home?redirect="+t})}),[a,n]);return(0,o.jsx)(re.AW,(0,c.Z)((0,c.Z)({},t),{},{render:i}))},Xt=t(30190),_t=t(51518),Ht=t.n(_t),$t=function(e){var n=e.address,t=(0,r.useState)(!1),s=(0,I.Z)(t,2),a=s[0],i=s[1],c=function(){var e=(0,j.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),setTimeout((function(){i(!1)}),1500);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(be.Z.Text,{children:_e(n)}),(0,o.jsx)(we.Z,{title:"Copied",visible:a,children:(0,o.jsx)(Ht(),{text:n,onCopy:c,children:(0,o.jsx)(me,{name:"copy-outline",style:{cursor:"pointer"}})})})]})},er=function(e){var n=e.mintAddress,t=e.price;return(0,o.jsxs)(ce.Z,{children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(Un,{size:24,mintAddress:n}),(0,o.jsx)(Qn,{mintAddress:n})]})}),(0,o.jsx)(ue.Z,{children:(0,o.jsxs)(be.Z.Title,{level:5,children:[t," KUSD"]})})]})},nr=function(e){var n=e.label,t=void 0===n?"":n,r=e.value;return(0,o.jsxs)(ce.Z,{gutter:[8,8],children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsx)(be.Z.Text,{type:"secondary",children:t})}),(0,o.jsx)(ue.Z,{children:r})]})},tr=function(e){var n=e.status,t=e.onChange;return(0,o.jsxs)(Xt.Z,{value:n,onChange:t,style:{minWidth:163},children:[(0,o.jsx)(Xt.Z.Option,{value:"active",children:"Active"}),(0,o.jsx)(Xt.Z.Option,{value:"printOnly",children:"Print only"}),(0,o.jsx)(Xt.Z.Option,{value:"burnOnly",children:"Burn only"}),(0,o.jsx)(Xt.Z.Option,{value:"paused",children:"Pause"})]})},rr=function(e){var n=e.certAddress,t=(0,r.useState)(),s=(0,I.Z)(t,2),a=s[0],c=s[1],u=(0,r.useState)(""),d=(0,I.Z)(u,2),l=d[0],f=d[1],p=(0,r.useState)(""),x=(0,I.Z)(p,2),h=x[0],v=x[1],m=(0,r.useState)(!1),w=(0,I.Z)(m,2),b=w[0],k=w[1],y=(0,i.v9)((function(e){return e})).certificates[n]||{},g=null===y||void 0===y?void 0:y.secureToken.toBase58(),C=kn(g)||0,A=en(y.rate,C),S=(null===y||void 0===y?void 0:y.fee.toNumber())/Math.pow(10,6),T=null===y||void 0===y?void 0:y.taxman.toBase58(),N=Object.keys(y.state)[0],E=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var t,r,s,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),e.prev=1,t=window.kylan.kylan,!(r=Number(l))||r===S){e.next=8;break}return s=new Te.BN(r*Math.pow(10,6)),e.next=8,t.setCertFee(s,n);case 8:if(!h||h===T){e.next=11;break}return e.next=11,t.setCertTaxman(h,n);case 11:if(!a||a===N){e.next=15;break}return i=sn[a],e.next=15,t.setCertState(i,n);case 15:window.notify({type:"success",description:"Certificate has been updated."}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),window.notify({type:"error",description:e.t0.message});case 21:return e.prev=21,k(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])}))),[n,S,N,T,l,a,h]);return(0,o.jsx)(ue.Z,{xs:24,md:12,lg:8,children:(0,o.jsx)(Zn,{children:(0,o.jsxs)(ce.Z,{gutter:[24,24],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(er,{mintAddress:g,price:$e(A).format("0,0.[000]a")})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{gutter:[12,12],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(nr,{label:"Secure token",value:(0,o.jsx)($t,{address:g})})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(nr,{label:"Fee",value:(0,o.jsx)(Fn,{value:l||S,onValue:f})})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(nr,{label:"Taxman",value:(0,o.jsx)(Fn,{value:h||T,onValue:v})})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(nr,{label:"Status",value:(0,o.jsx)(tr,{status:a||N,onChange:c})})})]})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(pe,{suffix:(0,o.jsx)(me,{name:"print-outline"}),onClick:E,loading:b,block:!0,children:"Update"})})]})})})},sr=function(e){var n=e.mintAddress;return(0,o.jsxs)(de.Z,{children:[(0,o.jsx)(Un,{mintAddress:n,size:24}),(0,o.jsx)(be.Z.Text,{className:"caption",children:(0,o.jsx)(Qn,{mintAddress:n})})]})},ar=function(e){var n=e.onChange,t=(0,r.useState)(""),s=(0,I.Z)(t,2),a=s[0],i=s[1],c=m().accounts,u=ne().tokenProvider,d=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var t,r,s,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},e.t0=Z().keys(c);case 2:if((e.t1=e.t0()).done){e.next=15;break}if(r=e.t1.value,s=c[r],!(a&&a.length>2)){e.next=12;break}return e.next=8,u.find(a);case 8:if(i=e.sent,i.map((function(e){return e.address})).includes(s.mint)){e.next=12;break}return e.abrupt("continue",2);case 12:t[r]=s,e.next=2;break;case 15:return e.abrupt("return",n(t));case 16:case"end":return e.stop()}}),e)}))),[c,a,n,u]);return(0,r.useEffect)((function(){d()}),[d]),(0,o.jsx)(ce.Z,{gutter:[16,16],children:(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(Dn.Z,{placeholder:"Search",value:a,size:"large",style:{background:"transparent"},prefix:(0,o.jsx)(ye.Z,{type:"text",style:{marginLeft:-7},size:"small",onClick:a?function(){return i("")}:function(){},icon:(0,o.jsx)(me,{name:a?"close-outline":"search-outline"})}),onChange:function(e){return i(e.target.value)}})})})},ir=U.sol.printerAddress,cr=function(e){var n=e.visible,t=void 0!==n&&n,s=e.onClose,a=void 0===s?function(){}:s,c=(0,r.useState)([]),u=(0,I.Z)(c,2),d=u[0],l=u[1],f=(0,r.useState)(""),p=(0,I.Z)(f,2),x=p[0],h=p[1],v=(0,r.useState)("0"),w=(0,I.Z)(v,2),k=w[0],y=w[1],g=(0,r.useState)("0.5"),C=(0,I.Z)(g,2),A=C[0],S=C[1],T=(0,r.useState)(!1),N=(0,I.Z)(T,2),E=N[0],M=N[1],P=ne().tokenProvider,R=(0,i.v9)((function(e){return e})).wallet.address,z=m().accounts,q=(0,i.I0)(),B=kn(x)||0,D=(0,r.useCallback)(function(){var e=(0,j.Z)(Z().mark((function e(n){var t,r,s,a,i,c;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=[],e.t0=Z().keys(n);case 3:if((e.t1=e.t0()).done){e.next=15;break}return s=e.t1.value,a=n[s],e.next=8,P.findByAddress(a.mint);case 8:if(!(i=e.sent)){e.next=12;break}return"SNTR"===i.symbol?r.push(s):t.unshift(s),e.abrupt("continue",3);case 12:t.push(s),e.next=3;break;case 15:return(c=[].concat(r,t)).filter((function(e,n){return c.indexOf(e)===n})),e.abrupt("return",l(c));case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[P]),O=(0,r.useCallback)((0,j.Z)(Z().mark((function e(){var n,t,r,s,i,c,u;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.account.isAddress(ir)&&b.account.isAddress(x)&&Number(k)&&Number(A)){e.next=2;break}return e.abrupt("return");case 2:return M(!0),e.prev=3,n=window.kylan.splt,t=nn(Number(k),B),e.next=8,n.deriveAssociatedAddress(R,x);case 8:return r=e.sent,s=window.kylan.kylan,e.next=12,s.initializeCert(ir,x,r,t,new Te.BN(Number(A)*Math.pow(10,6)));case 12:return i=e.sent,c=i.txId,u=i.certAddress,e.next=17,q(Ot({address:u}));case 17:return e.next=19,window.notify({type:"success",description:"Successfully add a new certificate. Click to view details",onClick:function(){return window.open(He(c),"_blank")}});case 19:a(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),window.notify({type:"error",description:e.t0.message});case 25:return e.prev=25,M(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[3,22,25,28]])}))),[a,k,A,x,R,B,q]);return(0,o.jsx)(Vn.Z,{visible:t,onCancel:a,centered:!0,footer:!1,bodyStyle:{padding:0},closeIcon:(0,o.jsx)(me,{name:"close-outline"}),className:"pixel-modal",children:(0,o.jsx)(Zn,{children:(0,o.jsxs)(ce.Z,{gutter:[16,16],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Title,{level:5,children:"New Certificate"})}),(0,o.jsx)(ue.Z,{span:12,children:(0,o.jsxs)(ce.Z,{gutter:[4,4],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Text,{type:"secondary",children:"Printer address"})}),(0,o.jsx)(ue.Z,{children:(0,o.jsxs)(de.Z,{className:"printer-select",children:[(0,o.jsx)(Ze.C,{src:rn,size:24}),(0,o.jsx)(be.Z.Text,{children:"Kylan"})]})})]})}),(0,o.jsx)(ue.Z,{span:12,children:(0,o.jsxs)(ce.Z,{gutter:[4,4],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Text,{type:"secondary",children:"Secure token"})}),(0,o.jsx)(ue.Z,{children:(0,o.jsx)(Xt.Z,{className:"secure-select",bordered:!1,dropdownRender:function(e){return(0,o.jsxs)(ce.Z,{gutter:[8,8],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ar,{onChange:D})}),(0,o.jsx)(ue.Z,{span:24,children:e})]})},onChange:h,children:d.map((function(e){var n=(z[e]||{}).mint;return(0,o.jsx)(Xt.Z.Option,{children:(0,o.jsx)(sr,{mintAddress:n})},n)}))})})]})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{gutter:[4,4],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Text,{children:"Price (USD)"})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ie.Z,{style:{borderRadius:8},bodyStyle:{padding:2},children:(0,o.jsx)(Fn,{value:k,onValue:y,bordered:!1})})})]})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{gutter:[4,4],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Text,{children:"Fee (%)"})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ie.Z,{style:{borderRadius:8},bodyStyle:{padding:2},children:(0,o.jsx)(Fn,{value:A,onValue:S,bordered:!1})})})]})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(pe,{onClick:O,loading:E,block:!0,children:"New Certificate"})})]})})})},ur=function(){var e=(0,r.useState)(!1),n=(0,I.Z)(e,2),t=n[0],s=n[1],a=(0,i.v9)((function(e){return e})).certificates,c=Object.keys(a).map((function(e){return e}));return(0,o.jsxs)(ce.Z,{gutter:[24,24],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsx)(be.Z.Title,{level:5,children:"Certificate"})}),(0,o.jsx)(ue.Z,{children:(0,o.jsx)(de.Z,{children:(0,o.jsx)(ye.Z,{onClick:function(){return s(!0)},icon:(0,o.jsx)(me,{name:"add-outline"}),children:"Add new"})})})]})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ce.Z,{gutter:[24,24],children:null===c||void 0===c?void 0:c.map((function(e,n){return(0,o.jsx)(rr,{certAddress:e},e+n)}))})}),(0,o.jsx)(cr,{visible:t,onClose:function(){return s(!1)}})]})},or=function(){return(0,o.jsxs)(ce.Z,{gutter:[16,16],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(be.Z.Title,{level:5,children:"Overview"})}),(0,o.jsx)(ue.Z,{xs:24,md:12,children:(0,o.jsx)(Zn,{children:(0,o.jsx)(be.Z.Text,{type:"secondary",children:"Comming soon"})})}),(0,o.jsx)(ue.Z,{xs:24,md:12,children:(0,o.jsx)(Zn,{children:(0,o.jsx)(ce.Z,{gutter:[24,24],children:(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(ce.Z,{children:[(0,o.jsx)(ue.Z,{flex:"auto",children:(0,o.jsx)(be.Z.Text,{children:"Total token printed"})}),(0,o.jsx)(ue.Z,{children:"$190.5"})]})})})})})]})},dr=function(){return(0,o.jsxs)(ce.Z,{gutter:[24,24],style:{maxWidth:1200,margin:"auto"},children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(or,{})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ur,{})})]})},lr=function(){var e=(0,r.useState)(""),n=(0,I.Z)(e,2),t=n[0],s=n[1],a=function(){var e=(0,j.Z)(Z().mark((function e(){var n,t,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.kylan.kylan,e.next=4,n.initializePrinter();case 4:return t=e.sent,r=t.printerAddress,e.abrupt("return",s(r));case 9:e.prev=9,e.t0=e.catch(0),window.notify({type:"error",description:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(ce.Z,{gutter:[24,24],children:[(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsxs)(be.Z.Text,{children:["Printer Address: ",t]})}),(0,o.jsx)(ue.Z,{span:24,children:(0,o.jsx)(ye.Z,{onClick:a,children:"New Printer"})})]})},fr=function(){return(0,o.jsxs)(se.Z,{className:"root-bg",children:[(0,o.jsx)(ae.Z,{children:(0,o.jsx)(ie.Z,{style:{zIndex:999,boxShadow:"unset",background:"#37bcf9"},bodyStyle:{padding:20},bordered:!1,children:(0,o.jsx)(mn,{})})}),(0,o.jsx)(se.Z,{style:{padding:"72px 16px 16px"},children:(0,o.jsxs)(re.rs,{children:[(0,o.jsx)(re.AW,{exact:!0,path:"/home",component:vt}),(0,o.jsx)(Yt,{exact:!0,path:"/admin",component:dr}),(0,o.jsx)(Yt,{exact:!0,path:"/admin/new-printer",component:lr}),(0,o.jsx)(re.l_,{exact:!0,from:"*",to:"/home"})]})}),(0,o.jsx)(Vt,{})]})};BigInt.prototype.toJSON=function(){return this.toString()};var pr={serializableCheck:{isSerializable:function(e){return"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||function(e){if(null===e)return!1;var n=Object.getPrototypeOf(e);return null!==n&&null===Object.getPrototypeOf(n)}(e)||"bigint"===typeof e}}},xr=(0,y.xC)({middleware:function(e){return e(pr)},devTools:!1,reducer:{ui:yt,wallet:Ue,bid:gn,accounts:Nt,mints:T,main:_n,certificates:Ut,cheques:Pn}}),hr=function(e){e&&e instanceof Function&&t.e(255).then(t.bind(t,48255)).then((function(n){var t=n.getCLS,r=n.getFID,s=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),s(e),a(e),i(e)}))},vr={name:"kylan_app",icon:(0,o.jsx)(r.Fragment,{})};(0,s.render)((0,o.jsx)(i.zt,{store:xr,children:(0,o.jsx)(l,{children:(0,o.jsx)(a.VK,{children:(0,o.jsx)(u.ZP,{prefixCls:"kylan",children:(0,o.jsx)(x,{children:(0,o.jsx)(v,{children:(0,o.jsx)(ee,{children:(0,o.jsx)(te.Qm,{app:vr,children:(0,o.jsx)(fr,{})})})})})})})})}),document.getElementById("root")),hr()},46601:function(){},89214:function(){},85568:function(){},52361:function(){},94616:function(){},55024:function(){}}]);
//# sourceMappingURL=919.535b7df3.chunk.js.map